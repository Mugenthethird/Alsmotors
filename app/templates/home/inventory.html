{% extends "layouts/base.html" %}

{% block title %} About US {% endblock %}

{% block body_class %} about-us {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

{% include 'includes/navigation-light.html' %}

<header class="bg-gradient-dark">
  <div class="page-header min-vh-45" style="background-image: url('/static/assets/img/about-bg.jpg');">
    <span class="mask bg-gradient-dark opacity-6"></span>
  </div>
</header>

<div class="card card-body shadow-xl mt-n6">
  <!-- Section with four info areas left & one card right with image and waves -->
  <section class="py-7">
    <div class="container">
      <div class="row">
        <div class="col-md-4">
          <div class="card-body">
            <p>Search Filters</p>
            <form role="form" method="post" action="{{ url_for('home_blueprint.filter') }}" class="text-start">

              <div class="input-group input-group-outline mb-3">
                <select  name="type" class="select-css" aria-label="First Name...">
                  <option>Select Type</option>
                  <option value="sedan">SEDAN & HATCHBACK</option>
                  <option value="suv">SUV</option>
                  <option value="pickups">PICK UPS</option>
                  <option value="buses">BUSES VANS & MPVS</option>
                </select>
              </div>

              <div class="input-group input-group-outline mb-3">
                <select name="brand" class="select-css" aria-label="First Name...">
                  <option value="">Select Brand</option>
                  <option value="toyota">TOYOTA</option>
                  <option value="nissan">NISSAN</option>
                  <option value="mazda">MAZDA</option>
                  <option value="subaru">SUBARU</option>
                  <option value="isuzu">ISUZU</option>
                  <option value="mistubishi">MISTUBISHI</option>
                  <option value="honda">HONDA</option>
                  <option value="bmw">BMW</option>
                  <option value="benz">BENZ</option>
                  <option value="other">OTHER</option>
                  
                  
                </select>
              </div>


              <div class="input-group input-group-outline mb-3">
                <select name="make" class="select-css" aria-label="First Name...">
                  <option value="">Select Make</option>
                </select>
              </div>

              <div class="input-group input-group-outline mb-3">
                <select name="models" class="select-css" aria-label="First Name...">
                  <option value="">Select Models</option>
                </select>
              </div>


              <div class="input-group input-group-outline mb-3">
                <select class="select-css" name="location" aria-label="First Name...">
                  <option value="">Select Location</option>
                  <option value="nairobi">NAIROBI</option>
                  <option value="mombasa">MOMBASA</option>
                </select>
              </div>


              <div class="input-group input-group-outline mb-3">
                <select class="select-css" name="fuel" aria-label="First Name...">
                  <option value="">Fuel Type</option>
                  <option value="disel">DISEL</option>
                  <option value="electric">ELECTRIC</option>
                  <option value="petrol">PETROL</option>
                  <option value="hybrid">HYBRID</option>
                </select>
              </div>

              <div class="input-group input-group-outline mb-3">
                <select class="select-css" name="transmission" aria-label="First Name...">
                  <option value="">Fuel Transmission</option>
                  <option value="automatic">AUTOMATIC</option>
                  <option value="manual">MANUAL</option>
                  <option value="hybrid">HYBRID</option>
                </select>
              </div>

              <div class="form-check">
                <input  name="featured" type="checkbox" class="form-check-input" id="customCheckDisabled" disabled>
                <label class="custom-control-label" for="customCheckDisabled">Featured</label>
              </div>

              <div class="form-check">
                <input type="checkbox"  name="used" class="form-check-input" id="customCheckDisabled" disabled>
                <label class="custom-control-label" for="customCheckDisabled">Brand New</label>
              </div>

              <div class="input-group input-group-dynamic pt-4">
                <button type="submit" class="btn bg-gradient-warning w-100 my-4 mb-2">
                  <span class="btn-inner--icon"><i class="fa fa-search"></i></span>
                  <span class="btn-inner--text">Search</span>
                </button>
              </div>
            </form>
          </div>
        </div>

        <div class="col-md-8">
          {% if item_length %}
          <p>We found {{ cars | length }} Cars available for you</p>
          {% else %}
          <p>We found {{ cars.count() }} Cars available for you</p>
          {% endif %}

          {% for car in cars %}
          <div class="col-md-4 mt-4">
            <div class="card" data-animation="true">
              <div class="card-header p-0 position-relative z-index-2">
                <a class="blur-shadow-image">
                  <img src={{ car.image_url }} alt="img-blur-shadow" class="img-fluid shadow">
                </a>
                <div class="colored-shadow"
                  style="background-image: url(&quot;https://demos.creative-tim.com/test/material-dashboard-pro/assets/img/products/product-1-min.jpg&quot;);">
                </div>
              </div>
              <div class="card-body text-center">
                <div class="d-flex mt-n6 mx-auto">
                  <a class="btn btn-link text-primary ms-auto border-0" data-bs-toggle="tooltip"
                    data-bs-placement="bottom" title="Delete">
                    <i class="material-icons text-lg">delete</i>
                  </a>
                  <button class="btn btn-link text-info me-auto border-0" data-bs-toggle="tooltip"
                    data-bs-placement="bottom" title="Edit">
                    <i class="material-icons text-lg">edit</i>
                  </button>
                </div>
                <h5 class="font-weight-normal mt-3">
                  <a href="javascript:;">{{ car.name }}</a>
                </h5>
                <p class="mb-0">
                  {{ car.price }}
                </p>
              </div>
            </div>
          </div>
          {% endfor %}
          
          
        </div>
      </div>
    </div>
  </section>
  <!-- END Section with four info areas left & one card right with image and waves -->
  <!-- -------- START Features w/ pattern background & stats & rocket -------- -->

</div>
<!-- -------- END Features w/ pattern background & stats & rocket -------- -->
{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<script>
  // get the element to animate
  var element = document.getElementById('count-stats');
  var elementHeight = element.clientHeight;

  // listen for scroll event and call animate function

  document.addEventListener('scroll', animate);

  // check if element is in view
  function inView() {
    // get window height
    var windowHeight = window.innerHeight;
    // get number of pixels that the document is scrolled
    var scrollY = window.scrollY || window.pageYOffset;
    // get current scroll position (distance from the top of the page to the bottom of the current viewport)
    var scrollPosition = scrollY + windowHeight;
    // get element position (distance from the top of the page to the bottom of the element)
    var elementPosition = element.getBoundingClientRect().top + scrollY + elementHeight;

    // is scroll position greater than element position? (is element in view?)
    if (scrollPosition > elementPosition) {
      return true;
    }

    return false;
  }

  var animateComplete = true;
  // animate element when it is in view
  function animate() {

    // is element in view?
    if (inView()) {
      if (animateComplete) {
        if (document.getElementById('state1')) {
          const countUp = new CountUp('state1', document.getElementById("state1").getAttribute("countTo"));
          if (!countUp.error) {
            countUp.start();
          } else {
            console.error(countUp.error);
          }
        }
        if (document.getElementById('state2')) {
          const countUp1 = new CountUp('state2', document.getElementById("state2").getAttribute("countTo"));
          if (!countUp1.error) {
            countUp1.start();
          } else {
            console.error(countUp1.error);
          }
        }
        if (document.getElementById('state3')) {
          const countUp2 = new CountUp('state3', document.getElementById("state3").getAttribute("countTo"));
          if (!countUp2.error) {
            countUp2.start();
          } else {
            console.error(countUp2.error);
          };
        }
        animateComplete = false;
      }
    }
  }

  if (document.getElementById('typed')) {
    var typed = new Typed("#typed", {
      stringsElement: '#typed-strings',
      typeSpeed: 90,
      backSpeed: 90,
      backDelay: 200,
      startDelay: 500,
      loop: true
    });
  }
</script>

<script>
  if (document.getElementsByClassName('page-header')) {
    window.onscroll = debounce(function () {
      var scrollPosition = window.pageYOffset;
      var bgParallax = document.querySelector('.page-header');
      var oVal = (window.scrollY / 3);
      bgParallax.style.transform = 'translate3d(0,' + oVal + 'px,0)';
    }, 6);
  }
</script>

{% endblock javascripts %}